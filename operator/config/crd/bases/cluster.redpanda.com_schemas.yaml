---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.3
  name: schemas.cluster.redpanda.com
spec:
  group: cluster.redpanda.com
  names:
    kind: Schema
    listKind: SchemaList
    plural: schemas
    shortNames:
      - sc
    singular: schema
  scope: Namespaced
  versions:
    - additionalPrinterColumns:
        - jsonPath: .status.conditions[?(@.type=="Synced")].status
          name: Synced
          type: string
        - jsonPath: .status.versions[-1]
          name: Latest Version
          type: number
      name: v1alpha2
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              properties:
                cluster:
                  properties:
                    clusterRef:
                      properties:
                        name:
                          type: string
                      required:
                        - name
                      type: object
                    staticConfiguration:
                      properties:
                        admin:
                          properties:
                            sasl:
                              properties:
                                mechanism:
                                  type: string
                                passwordSecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                token:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                username:
                                  type: string
                              required:
                                - mechanism
                              type: object
                            tls:
                              properties:
                                caCertSecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                certSecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                insecureSkipTlsVerify:
                                  type: boolean
                                keySecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                              type: object
                            urls:
                              items:
                                type: string
                              type: array
                          required:
                            - urls
                          type: object
                        kafka:
                          properties:
                            brokers:
                              items:
                                type: string
                              type: array
                            sasl:
                              properties:
                                awsMskIam:
                                  properties:
                                    accessKey:
                                      type: string
                                    secretKeySecretRef:
                                      properties:
                                        key:
                                          type: string
                                        name:
                                          type: string
                                      required:
                                        - name
                                      type: object
                                    sessionTokenSecretRef:
                                      properties:
                                        key:
                                          type: string
                                        name:
                                          type: string
                                      required:
                                        - name
                                      type: object
                                    userAgent:
                                      type: string
                                  required:
                                    - accessKey
                                    - secretKeySecretRef
                                    - sessionTokenSecretRef
                                    - userAgent
                                  type: object
                                gssapi:
                                  properties:
                                    authType:
                                      type: string
                                    enableFast:
                                      type: boolean
                                    kerberosConfigPath:
                                      type: string
                                    keyTabPath:
                                      type: string
                                    passwordSecretRef:
                                      properties:
                                        key:
                                          type: string
                                        name:
                                          type: string
                                      required:
                                        - name
                                      type: object
                                    realm:
                                      type: string
                                    serviceName:
                                      type: string
                                    username:
                                      type: string
                                  required:
                                    - authType
                                    - enableFast
                                    - kerberosConfigPath
                                    - keyTabPath
                                    - passwordSecretRef
                                    - realm
                                    - serviceName
                                    - username
                                  type: object
                                mechanism:
                                  type: string
                                oauth:
                                  properties:
                                    tokenSecretRef:
                                      properties:
                                        key:
                                          type: string
                                        name:
                                          type: string
                                      required:
                                        - name
                                      type: object
                                  required:
                                    - tokenSecretRef
                                  type: object
                                passwordSecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                username:
                                  type: string
                              required:
                                - mechanism
                              type: object
                            tls:
                              properties:
                                caCertSecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                certSecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                insecureSkipTlsVerify:
                                  type: boolean
                                keySecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                              type: object
                          required:
                            - brokers
                          type: object
                        schemaRegistry:
                          properties:
                            sasl:
                              properties:
                                mechanism:
                                  type: string
                                passwordSecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                token:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                username:
                                  type: string
                              required:
                                - mechanism
                              type: object
                            tls:
                              properties:
                                caCertSecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                certSecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                insecureSkipTlsVerify:
                                  type: boolean
                                keySecretRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                  required:
                                    - name
                                  type: object
                              type: object
                            urls:
                              items:
                                type: string
                              type: array
                          required:
                            - urls
                          type: object
                      type: object
                  type: object
                  x-kubernetes-validations:
                    - message: 'spec.cluster.staticConfiguration.schemaRegistry: required value'
                      rule: '!has(self.staticConfiguration) || has(self.staticConfiguration.schemaRegistry)'
                    - message: either clusterRef or staticConfiguration must be set
                      rule: has(self.clusterRef) || has(self.staticConfiguration)
                    - message: ClusterSource is immutable
                      rule: self == oldSelf
                compatibilityLevel:
                  default: Backward
                  enum:
                    - None
                    - Backward
                    - BackwardTransitive
                    - Forward
                    - ForwardTransitive
                    - Full
                    - FullTransitive
                  type: string
                references:
                  items:
                    properties:
                      name:
                        type: string
                      subject:
                        type: string
                      version:
                        type: integer
                    required:
                      - name
                      - subject
                      - version
                    type: object
                  type: array
                schemaType:
                  default: avro
                  enum:
                    - avro
                    - protobuf
                    - json
                  type: string
                text:
                  type: string
              required:
                - cluster
                - text
              type: object
            status:
              default:
                conditions:
                  - lastTransitionTime: "1970-01-01T00:00:00Z"
                    message: Waiting for controller
                    reason: Pending
                    status: Unknown
                    type: Synced
              properties:
                conditions:
                  items:
                    properties:
                      lastTransitionTime:
                        format: date-time
                        type: string
                      message:
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        enum:
                          - "True"
                          - "False"
                          - Unknown
                        type: string
                      type:
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                    type: object
                  type: array
                observedGeneration:
                  format: int64
                  type: integer
                schemaHash:
                  type: string
                versions:
                  items:
                    type: integer
                  type: array
              type: object
          required:
            - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
